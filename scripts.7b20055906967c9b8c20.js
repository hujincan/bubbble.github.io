!function(e,t){var n,r,i=new RegExp("--inject-\\d+","g"),o=["src","alt","onload","onerror"],a=t.createElement("a"),l="undefined"!=typeof SVGRect,u={useCache:!0,copyAttributes:!0,makeIdsUnique:!0},f={clipPath:["clip-path"],"color-profile":null,cursor:null,filter:null,linearGradient:["fill","stroke"],marker:["marker","marker-end","marker-mid","marker-start"],mask:null,pattern:["fill","stroke"],radialGradient:["fill","stroke"]},c=1;function s(e){return(n=n||new XMLSerializer).serializeToString(e)}function d(e,t){var n,r,i,o,a="--inject-"+c++,l=/url\("?#([a-zA-Z][\w:.-]*)"?\)/g,u=e.querySelectorAll("[id]"),s=t?[]:null,d={},v=[],m=!1;if(u.length){for(i=0;i<u.length;i++)(r=u[i].localName)in f&&(d[r]=1);for(r in d)(f[r]||[r]).forEach((function(e){v.indexOf(e)<0&&v.push(e)}));v.length&&v.push("style");var h,p,g,A=e.getElementsByTagName("*"),y=e;for(i=-1;null!=y;){if("style"==y.localName)(g=(p=y.textContent)&&p.replace(l,(function(e,t){return s&&(s[t]=1),"url(#"+t+a+")"})))!==p&&(y.textContent=g);else if(y.hasAttributes()){for(o=0;o<v.length;o++)(g=(p=y.getAttribute(h=v[o]))&&p.replace(l,(function(e,t){return s&&(s[t]=1),"url(#"+t+a+")"})))!==p&&y.setAttribute(h,g);["xlink:href","href"].forEach((function(e){var t=y.getAttribute(e);/^\s*#/.test(t)&&(t=t.trim(),y.setAttribute(e,t+a),s&&(s[t.substring(1)]=1))}))}y=A[++i]}for(i=0;i<u.length;i++)n=u[i],s&&!s[n.id]||(n.id+=a,m=!0)}return m}function v(e,n,r,i){if(n){n.setAttribute("data-inject-url",r);var a=e.parentNode;if(a){i.copyAttributes&&function(e,n){for(var r,i,a,l=e.attributes,u=0;u<l.length;u++)if(-1==o.indexOf(i=(r=l[u]).name))if(a=r.value,"title"==i){var f,c=n.firstElementChild;c&&"title"==c.localName.toLowerCase()?f=c:(f=t.createElementNS("http://www.w3.org/2000/svg","title"),n.insertBefore(f,c)),f.textContent=a}else n.setAttribute(i,a)}(e,n);var l=i.beforeInject,u=l&&l(e,n)||n;a.replaceChild(u,e),e.__svgInject=1,p(e);var f=i.afterInject;f&&f(e,u)}}else y(e,i)}function m(){for(var e={},t=arguments,n=0;n<t.length;n++){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}function h(e,n){if(n){var i;try{i=function(e){return(r=r||new DOMParser).parseFromString(e,"text/xml")}(e)}catch(a){return null}return i.getElementsByTagName("parsererror").length?null:i.documentElement}var o=t.createElement("div");return o.innerHTML=e,o.firstElementChild}function p(e){e.removeAttribute("onload")}function g(e){console.error("SVGInject: "+e)}function A(e,t,n){e.__svgInject=2,n.onFail?n.onFail(e,t):g(t)}function y(e,t){p(e),A(e,"SVG_INVALID",t)}function b(e,t){p(e),A(e,"SVG_NOT_SUPPORTED",t)}function I(e,t){A(e,"LOAD_FAIL",t)}function E(e){e.onload=null,e.onerror=null}function _(e){g("no img element")}var L=function n(r,o){var f=m(u,o),g={};function A(e,t){t=m(f,t);var n=function(n){var r=function(){var e=t.onAllFinish;e&&e(),n&&n()};if(e&&void 0!==e.length){var i=0,o=e.length;if(0==o)r();else for(var a=function(){++i==o&&r()},l=0;l<o;l++)L(e[l],t,a)}else L(e,t,r)};return"undefined"==typeof Promise?n():new Promise(n)}function L(e,t,n){if(e){var r=e.__svgInject;if(r)Array.isArray(r)?r.push(n):n();else{if(E(e),!l)return b(e,t),void n();var o=t.beforeLoad,u=o&&o(e)||e.getAttribute("src");if(!u)return""===u&&I(e,t),void n();var f=[];e.__svgInject=f;var m=function(){n(),f.forEach((function(e){e()}))},p=(a.href=u,a.href),A=t.useCache,L=t.makeIdsUnique,j=function(e){A&&(g[p].forEach((function(t){t(e)})),g[p]=e)};if(A){var S,k=function(n){if("LOAD_FAIL"===n)I(e,t);else if("SVG_INVALID"===n)y(e,t);else{var r,o=n[0],a=n[1],l=n[2];L&&(null===o?(o=d(r=h(a,!1),!1),n[0]=o,n[2]=o&&s(r)):o&&(a=function(e){return e.replace(i,"--inject-"+c++)}(l))),r=r||h(a,!1),v(e,r,p,t)}m()};if(void 0!==(S=g[p]))return void(S.isCallbackQueue?S.push(k):k(S));(S=[]).isCallbackQueue=!0,g[p]=S}!function(n,r,i){if(n){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState){var n=o.status;200==n?function(n,r){var i=n instanceof Document?n.documentElement:h(r,!0),o=t.afterLoad;if(o){var a=o(i,r)||i;if(a){var l="string"==typeof a;r=l?a:s(i),i=l?h(a,!0):a}}if(i instanceof SVGElement){var u=null;if(L&&(u=d(i,!1)),A){var f=u&&s(i);j([u,r,f])}v(e,i,p,t)}else y(e,t),j("SVG_INVALID");m()}(o.responseXML,o.responseText.trim()):(n>=400||0==n)&&(I(e,t),j("LOAD_FAIL"),m())}},o.open("GET",n,!0),o.send()}}(p)}}else _()}return l&&function(e){var n=t.getElementsByTagName("head")[0];if(n){var r=t.createElement("style");r.type="text/css",r.appendChild(t.createTextNode(e)),n.appendChild(r)}}('img[onload^="'+r+'("]{visibility:hidden;}'),A.setOptions=function(e){f=m(f,e)},A.create=n,A.err=function(e,t){e?2!=e.__svgInject&&(E(e),l?(p(e),I(e,f)):b(e,f),t&&(p(e),e.src=t)):_()},e[r]=A,A}("SVGInject");"object"==typeof module&&"object"==typeof module.exports&&(module.exports=L)}(window,document);